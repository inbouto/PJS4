package ihm;

import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
import javax.swing.border.TitledBorder;
 
public class IHMV1_Design extends JPanel implements ActionListener {
	
	private JTextField zoneDeSaisie;
    private JTextArea texteUser;
    private JTextArea textAreaIA;
    private final static String newline = "\n";
 
    public IHMV1_Design() {
        super(new GridBagLayout());      
        
        JFrame frame = new JFrame("L'IAPP");
        frame.setSize(300, 150);
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.setResizable(false);
        centerWindow(frame);       


        frame.add(creerZoneDeTexte(), BorderLayout.PAGE_END); 
        frame.add(creerTexteUser(), BorderLayout.LINE_START);
        frame.add(creerTexteIA(), BorderLayout.LINE_END);
        
        
        frame.pack();
        frame.setVisible(true);
    }
    
    public JPanel creerZoneDeTexte(){
    	//Code de la zone de saisie
        JPanel panelZoneDeSaisie = new JPanel();
        
        TitledBorder borderZoneDeSaisie = new TitledBorder("Tapez ici votre texte");
        borderZoneDeSaisie.setTitleJustification(TitledBorder.CENTER);
        borderZoneDeSaisie.setTitlePosition(TitledBorder.TOP);
        
        panelZoneDeSaisie.setBorder(borderZoneDeSaisie);
         
        zoneDeSaisie = new JTextField(82);
        zoneDeSaisie.addActionListener(this);
 
        GridBagConstraints zoneDeSaisieGBC = new GridBagConstraints();
        
        panelZoneDeSaisie.add(zoneDeSaisie, zoneDeSaisieGBC);
        
        //add(panelTextField, GridBagConstraints.PAGE_END);
		return panelZoneDeSaisie;  
    }
    
    public JPanel creerTexteUser(){ 
    	//Code permettant d'afficher le texte entré
        JPanel panelTexteUser = new JPanel();
        
        TitledBorder borderTexteUser = new TitledBorder("Votre texte");
        borderTexteUser.setTitleJustification(TitledBorder.CENTER);
        borderTexteUser.setTitlePosition(TitledBorder.TOP);
        
        panelTexteUser.setBorder(borderTexteUser);
        
        texteUser = new JTextArea(15, 40);
        texteUser.setEditable(false);
        texteUser.setLineWrap(true);
        JScrollPane texteUserSP = new JScrollPane(texteUser);
        GridBagConstraints texteUserGBC = new GridBagConstraints();
        
        panelTexteUser.add(texteUserSP, texteUserGBC);
		return panelTexteUser;
    }
    
    public JPanel creerTexteIA(){
    	//Code permettant d'afficher le texte de l'IA
        JPanel panelTextAreaIA = new JPanel();
        
        TitledBorder borderTextAreaIA = new TitledBorder("Réponse de l'IA");
        borderTextAreaIA.setTitleJustification(TitledBorder.CENTER);
        borderTextAreaIA.setTitlePosition(TitledBorder.TOP);
        
        panelTextAreaIA.setBorder(borderTextAreaIA);
        
        textAreaIA = new JTextArea(15, 40);
        textAreaIA.setEditable(false);
        textAreaIA.setLineWrap(true);
        JScrollPane scrollPane2 = new JScrollPane(textAreaIA);

        GridBagConstraints zoneTexteIA = new GridBagConstraints();
        
        panelTextAreaIA.add(scrollPane2, zoneTexteIA);
        
        //add(panelTextAreaIA, GridBagConstraints.LINE_END);
		return panelTextAreaIA;    
    }
 
    public void actionPerformed(ActionEvent evt) {
        String text = zoneDeSaisie.getText();
        texteUser.append(text + newline);
        zoneDeSaisie.selectAll();
 
        //Make sure the new text is visible, even if there
        //was a selection in the text area.
        texteUser.setCaretPosition(texteUser.getDocument().getLength());
       
        textAreaIA.append(text + newline);
        //Make sure the new text is visible, even if there
        //was a selection in the text area.
        textAreaIA.setCaretPosition(texteUser.getDocument().getLength());
    }
    
    public static void centerWindow(Window frame) {
        Dimension dimension = Toolkit.getDefaultToolkit().getScreenSize();
        int x = (int) ((dimension.getWidth() - frame.getWidth()) / 3.5);
        int y = (int) ((dimension.getHeight() - frame.getHeight()) / 3.5);
        frame.setLocation(x, y);
    }
 
    /**
     * Create the GUI and show it.  For thread safety,
     * this method should be invoked from the
     * event dispatch thread.
     */
//     private static void creationFenetre() {
//    	 //Création de la fenêtre
//         JFrame frame = new JFrame("L'IAPP");
//         frame.setSize(300, 150);
//         frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
//         frame.setResizable(false);
//         centerWindow(frame);
//         
//         frame.getContentPane().add(new IHMV1_Design());
//         
//         frame.pack();
//         frame.setVisible(true);
//     }
 
    public static void main(String[] args) {
        javax.swing.SwingUtilities.invokeLater(new Runnable() {
            public void run() {
            	new IHMV1_Design();
            }
        });
    }
}
